:root { --touch:56px }

/* Sayfa */
.cashier-wrap{min-height:100svh;display:flex;flex-direction:column}
.cashier-header{position:sticky;top:0;z-index:5;background:#fff;padding:6px 0;border-bottom:1px solid rgba(0,0,0,.05)}
.cashier-wrap.container-fluid{padding-left:8px;padding-right:8px}
.cashier-grid-wrap{flex:1;min-height:0}
.grid-viewport{height:calc(100svh - var(--header-h));overflow:auto}

/* Masalar */
#tablesGrid{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));align-content:start}
.tbl-card{border:1px solid #dbe4ff;border-radius:12px;background:#fff;padding:.8rem .9rem;display:flex;flex-direction:column;gap:.45rem;min-height:140px;aspect-ratio:2/1}
.tbl-card[data-st=empty]{border-left:6px solid #60a5fa}
.tbl-card[data-st=open]{border-left:6px solid #f59e0b}
.tbl-card[data-st=payment]{border-left:6px solid #10b981}
.tbl-name{font-weight:800}
.tbl-status{font-weight:700;display:flex;flex-direction:column;align-items:flex-end}
.tbl-status .st-label{display:inline-flex;align-items:center;gap:.4rem}
.tbl-status .st-min{font-weight:800;font-size:.80rem;line-height:1.1}
.tbl-meta{font-size:.95rem;font-weight:600;margin-top:auto;text-align:left}

/* Modal */
.modal-95vh .modal-dialog{max-width:1240px;width:calc(100vw - 12px)}
.modal-95vh .modal-content{height:94.5svh} /* tek kaynak, taşmaları önler */
.modal-95vh .modal-header{display:none}
.modal-95vh .modal-body{padding:.4rem;display:flex;flex-direction:column;overflow:hidden}
.modal-95vh .btn-modal-close{position:absolute;top:8px;right:10px;z-index:6;width:36px;height:36px;opacity:.9}

/* ÜRÜNLER | ADİSYON */
.pos-body{flex:1;min-height:0;display:grid;gap:8px;grid-template-columns:60% 40%}
@media (max-width:1024px){.pos-body{grid-template-columns:1fr}}
.panel{border:1px solid #e5e7eb;border-radius:10px;background:#fff;min-height:0;display:flex;flex-direction:column}
.panel-hd{padding:.4rem .5rem;border-bottom:1px solid #eef2f7;font-weight:800;position:sticky;top:0;background:#fff;z-index:2}
.panel-bd{padding:.4rem .5rem;min-height:0;display:flex;flex-direction:column}

/* SOL – ÜRÜNLER */
.prod-wrap{display:grid;grid-template-columns:28px 1fr;gap:.4rem;min-height:0;flex:1}
.vert-label{writing-mode:vertical-rl;transform:rotate(180deg);font-weight:800;font-size:.95rem;letter-spacing:.05em;color:#334155;display:flex;align-items:center;justify-content:center;border-right:1px solid #eef2f7;user-select:none}
.cat-chips{display:flex;gap:.35rem;overflow:auto;padding:.2rem .1rem .1rem}
.cat-chips .btn{height:42px;padding:.25rem .75rem;border:1px solid #dbe4ff;background:#f8fbff;border-radius:999px;white-space:nowrap;font-size:1.1rem}
.cat-chips .btn.active{background:#e8f0ff;outline:2px solid #2563eb}
.prod-list{flex:1;min-height:0;overflow:auto;padding-bottom:4px}
.prod-grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(132px,1fr))}
.prod-card{border:1px solid #dbe4ff;border-radius:10px;padding:.75rem .7rem;background:#fff;user-select:none;min-height:64px;display:flex;flex-direction:column;justify-content:center}
.prod-title{font-weight:800;font-size:1.1rem}
.prod-price{font-size:.99rem;opacity:.9}

/* SAĞ – Adisyon */
.items-head{display:grid;grid-template-columns:1fr 140px 90px 110px;gap:.4rem;font-weight:800;font-size:1rem;padding:.25rem 0;border-bottom:1px solid #eef2f7;position:sticky;top:0;background:#fff;z-index:2}
.items-scroll{flex:1;min-height:160px;overflow:auto}
.items-row{display:grid;grid-template-columns:1fr 140px 90px 110px;gap:.4rem;align-items:center;padding:.35rem 0;border-bottom:1px dashed #e5e7eb}
.qty-wrap{display:flex;align-items:center;gap:.35rem}
.qty-btn{width:46px;height:46px;border:1px solid #dbe4ff;background:#f8fbff;border-radius:8px;font-weight:800}
.qty-val{min-width:44px;text-align:center;font-weight:800;font-size:1.05rem}

/* ALT */
.pos-footer{position:sticky;bottom:0;background:#fff;border-top:1px solid #eef2f7;padding:.5rem .25rem}
.pay-block{display:grid;grid-template-columns:1fr auto;gap:.6rem}
@media (max-width:992px){.pay-block{grid-template-columns:1fr}}
.left-pay{display:flex;flex-direction:column;gap:.6rem;align-self:flex-end}
.totals-row{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}
.chip{background:#f8fafc;border:1px solid #e5e7eb;border-radius:8px;padding:.45rem .75rem;font-size:1.15rem}
.right-actions{margin-left:auto;display:flex;gap:.5rem}
.right-actions .btn{height:46px}
.pay-row{display:flex;align-items:center;gap:.5rem}
.pay-group{display:flex;gap:.4rem;flex-wrap:wrap}
.pay-group .btn{min-width:120px;height:var(--touch);padding:.15rem .55rem;font-weight:700}
.pay-group .btn.active{outline:2px solid #2563eb}
#btnPayOk{margin-left:auto;height:56px;font-weight:800;min-width:220px}

button,.btn{touch-action:manipulation}

/* Modal açıkken dış sayfayı kilitle ve modal kabını kaydırmaz yap */
body.modal-open{overflow:hidden !important;padding-right:0 !important;}
.modal{overflow:hidden !important;}

/* İç scrollerlar: görünmez scrollbar + zincir kırma */
.grid-viewport,
.prod-list,
.items-scroll{
    overflow:auto;
    overscroll-behavior:contain;
    scrollbar-width:none;        /* Firefox */
    -ms-overflow-style:none;     /* Eski Edge/IE */
    scrollbar-gutter:stable;     /* layout stabil */
    padding-right:10px;          /* sağ nefes */
}
.grid-viewport::-webkit-scrollbar,
.prod-list::-webkit-scrollbar,
.items-scroll::-webkit-scrollbar{display:none;} /* Chrome/Edge/Safari */
